<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizes variation of a dependent variable among all factors in all fields • datascanr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Visualizes variation of a dependent variable among all factors in all fields">
<meta property="og:description" content="Troubleshooting reactive data in flexdashboard can be difficult. The goal of this package is to convert reactive data frames into functions that will read from your raw data. It is recommended that an dummy input list be available to simulate the reactive inputs your users will manipulate.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">datascanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="datascanr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#datascanr" class="anchor"></a>datascanr</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of datascanr is to run a pre-analysis screen of your data. Before guessing which fields you should look at, these charts are designed to help you understand the fields of your data.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"rjake/datascanr"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>There is a plotting function which is used to visualize the variation in the dependent variable across all factors in all fields.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datascanr)
## basic example code
<span class="kw">variation_plot</span>(ggplot2<span class="op">::</span>mpg, <span class="st">"cty"</span>)</code></pre></div>
<p><img src="reference/figures/mpg_variation_plot.png" alt="mpg_variation_plot" width="500"></p>
<p>The variation plot is likely to be unfamiliar. This image should help explain what’s going on (click to see a bigger pic):</p>
<p><img src="reference/figures/mpg_variation_plot_reading.png" alt="mpg_variation_plot_reading" width="500"></p>
<p>The idea is that categories matter. I like to think of it as a tug-of-war between different identities a single observation holds in comparison with the grand mean (dotted line below). In this example, being a Toyota (<code>manufacturer == "toyota"</code>) linked it to having a higher city mpg than the grand mean (19 mpg vs 17 mpg). Because the factors in <code>manufacturer</code> have more variation, this field pulls more strongly on the estimated mpg than the <code>year</code>. In this case, there is very little difference between cars from 1998 and 2008. Although this observation has <code>year == 2008</code> and observations with this year are lower than in 1998, the low variation leads to less pull on the estimate.</p>
<p>for has a group mean well below the grand mean (across all manufacturers/observations). The 8 cyl (V8) engine has a similar contribution. As you work your way from highest to lowest, the expectation is that the impact of these different factors have less and less pull.</p>
<p>Sometimes it’s easier to see an example of where one observation may fall. For this you can use</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">variation_plot_single_obs</span>(
  <span class="dt">df =</span> ggplot2<span class="op">::</span>mpg, 
  <span class="dt">dep_var =</span> <span class="st">"cty"</span>, 
  <span class="dt">id =</span> <span class="dv">182</span>, <span class="co"># essentially the row number</span>
  <span class="dt">labels =</span> <span class="ot">TRUE</span>
)</code></pre></div>
<p><img src="reference/figures/mpg_variation_plot_single_obs.png" alt="mpg_variation_plot_single_obs" width="500"></p>
<p>There is also a function to view the frequency of fields across all variables. This can help in choosing columns to use in the <code>ignore_cols</code> argument when visualizing the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">field_scan</span>(ggplot2<span class="op">::</span>mpg, <span class="dt">n_cat =</span> <span class="dv">10</span>, <span class="dt">n_quantile =</span> <span class="dv">4</span>)</code></pre></div>
<p>Categorical data can be rolled-up into a limited number of categories, putting less freuquent factors in an “Other” category (defaults to <code>n_cat = 15</code>). Numeric data is cut into a specified number of quantiles (defaults to <code>n_quantile = 10</code>). <img src="reference/figures/mpg_field_scan.png" alt="field_scan" width="500"></p>
<p>You can run a demo file <a href="https://github.com/rjake/datascanr/blob/master/inst/demo_analysis.Rmd">here</a>. At the bottom are a lot of <code>df &lt;-...; dep_var &lt;-...; ignore_cols &lt;- ...;</code> for examples that can be run within R. You will have to install some of the packages in order to use them. For example, the <code>AER::Fatalities</code> data set is <code>Fatalities</code> out of the <code>AER</code> package. To see what is on your machine, you can use the top of <a href="https://github.com/rjake/datascanr/blob/master/inst/find_datasets.R">this script</a>.</p>
<p>Please reach out with any questions <a href="mailto:rjake@sas.upenn.edu">rjake@sas.upenn.edu</a>, <span class="citation">[@yake_84]</span>(<a href="https://twitter.com/yake_84" class="uri">https://twitter.com/yake_84</a>)</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/rjake/datascanr/issues">https://​github.com/​rjake/​datascanr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jake Riley <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jake Riley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
