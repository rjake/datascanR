<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Amount that Animals Sleep • whereiation</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Amount that Animals Sleep">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">whereiation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/msleep_dataset.html">The Amount that Animals Sleep</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="msleep_dataset_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="msleep_dataset_files/plotly-binding-4.9.1/plotly.js"></script><script src="msleep_dataset_files/typedarray-0.1/typedarray.min.js"></script><script src="msleep_dataset_files/jquery-1.12.4/jquery.min.js"></script><link href="msleep_dataset_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet">
<script src="msleep_dataset_files/crosstalk-1.0.0/js/crosstalk.min.js"></script><link href="msleep_dataset_files/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet">
<script src="msleep_dataset_files/plotly-main-1.49.4/plotly-latest.min.js"></script><script src="msleep_dataset_files/kePrint-0.0.1/kePrint.js"></script><link href="msleep_dataset_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="msleep_dataset_files/datatables-binding-0.13/datatables.js"></script><link href="msleep_dataset_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="msleep_dataset_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="msleep_dataset_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>The Amount that Animals Sleep</h1>
            
      
      
      <div class="hidden name"><code>msleep_dataset.Rmd</code></div>

    </div>

    
    
<p>As a quick demo, we can explore the <code>msleep</code> dataset from <code>ggplot2</code>. Most of the functions have the same arguments:</p>
<ul>
<li><p><strong>df</strong> - dataframe to evaluate</p></li>
<li><p><strong>dep_var</strong> - dependent variable to use (column name), can also be a string to evaluate, ex: <code>"x &gt; 35"</code></p></li>
<li><p><strong>n_cat</strong> - for categorical variables, the max number of unique values to keep. This field feeds the forcats::fct_lump(n = ) argument.</p></li>
<li><p><strong>n_quantile</strong> - for numeric/date fields, the number of quantiles used to split the data into a factor. Fields that have less than this amount will not be changed.</p></li>
<li><p><strong>n_digits</strong> - for numeric fields, the number of digits to keep in the breaks ex: [1.2345 to 2.3456] will be [1.23 to 2.34] if n_digits = 2</p></li>
<li><p><strong>avg_type</strong> - mean or median</p></li>
<li><p><strong>ignore_cols</strong> - columns to ignore from analysis. Good candidates are fields that have have no duplicate values (primary keys) or fields with a large proportion of null values</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(whereiation)</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">df &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span>msleep <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(awake, sleep_rem, name))</a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8">dep_var &lt;-<span class="st"> "sleep_total"</span></a></code></pre></div>
<div id="variation-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#variation-plot" class="anchor"></a>Variation plot</h2>
<p>A as first pass, I like to run this chart to see what variables have the widest spread and which might not be of interest. The size of the circle represents the number of observations. What I see in this plot is the following:</p>
<ul>
<li><p><strong>order</strong> this field represents the taxonomic order (kingdom, phylum, class, order, genus, …) and has the widest variation in the amount of sleep an animal gets. If you hover over the points in this field, you’ll see that the mean number of hours an animal sleeps for artiodactyla (sheep, goats, etc) is 4.5 hours. Although its important to note that the number of observations is small at just six. On the other end, the order rodentia (rats, mice) is 12.4 hours and has 22 observations. This field also has a higher adjusted R².</p></li>
<li><p><strong>brainwt</strong> on the otherhand, there brain weight of the animal does’t have as strong of a relationship to th amount of sleep – in this data set at least.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="../reference/variation_plot.html">variation_plot_interactive</a></span>(df, dep_var)</a></code></pre></div>
<div id="htmlwidget-097c21cc88d99ac6c115" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-097c21cc88d99ac6c115">{"x":{"data":[{"x":[10.433734939759,10.433734939759],"y":[0.4,5.6],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"rgba(153,153,153,1)","dash":"dot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10.6057692307692,10.9777777777778],"y":[1,1],"text":["label: 01 [-0.00 TO 0.57)<br />----------------------------<br />mean: 10.606<br />N: 52<br />Adj. R2: 0.044","label: NA NA<br />----------------------------<br />mean: 10.978<br />N: 27<br />Adj. R2: 0.044"],"type":"scatter","mode":"lines","line":{"width":22.6771653543307,"color":"rgba(248,118,109,0.2)","dash":"solid"},"hoveron":"points","name":"brainwt","legendgroup":"brainwt","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9.509375,10.3789473684211,10.925],"y":[2,2,2],"text":["label: HERBI<br />----------------------------<br />mean: 9.509<br />N: 32<br />Adj. R2: 0.047","label: CARNI<br />----------------------------<br />mean: 10.379<br />N: 19<br />Adj. R2: 0.047","label: OMNI<br />----------------------------<br />mean: 10.925<br />N: 20<br />Adj. R2: 0.047"],"type":"scatter","mode":"lines","line":{"width":22.6771653543307,"color":"rgba(163,165,0,0.2)","dash":"solid"},"hoveron":"points","name":"vore","legendgroup":"vore","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9.97450980392157,12.35,12.8928571428571],"y":[3,3,3],"text":["label: NA NA<br />----------------------------<br />mean: 9.975<br />N: 51<br />Adj. R2: 0.059","label: 02 [0.25 TO 0.39)<br />----------------------------<br />mean: 12.35<br />N: 6<br />Adj. R2: 0.059","label: 01 [0.11 TO 0.25)<br />----------------------------<br />mean: 12.893<br />N: 14<br />Adj. R2: 0.059"],"type":"scatter","mode":"lines","line":{"width":22.6771653543307,"color":"rgba(0,191,125,0.2)","dash":"solid"},"hoveron":"points","name":"sleep_cycle","legendgroup":"sleep_cycle","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6.92857142857143,7.58,11.437037037037],"y":[4,4,4],"text":["label: VU<br />----------------------------<br />mean: 6.929<br />N: 7<br />Adj. R2: 0.215","label: DOMESTICATED<br />----------------------------<br />mean: 7.58<br />N: 10<br />Adj. R2: 0.215","label: LC<br />----------------------------<br />mean: 11.437<br />N: 27<br />Adj. R2: 0.215"],"type":"scatter","mode":"lines","line":{"width":22.6771653543307,"color":"rgba(0,176,246,0.2)","dash":"solid"},"hoveron":"points","name":"conservation","legendgroup":"conservation","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.51666666666667,10.1166666666667,10.5,11.2076923076923,12.4681818181818],"y":[5,5,5,5,5],"text":["label: ARTIODACTYLA<br />----------------------------<br />mean: 4.517<br />N: 6<br />Adj. R2: 0.502","label: CARNIVORA<br />----------------------------<br />mean: 10.117<br />N: 12<br />Adj. R2: 0.502","label: PRIMATES<br />----------------------------<br />mean: 10.5<br />N: 12<br />Adj. R2: 0.502","label: OTHER (9)<br />----------------------------<br />mean: 11.208<br />N: 13<br />Adj. R2: 0.502","label: RODENTIA<br />----------------------------<br />mean: 12.468<br />N: 22<br />Adj. R2: 0.502"],"type":"scatter","mode":"lines","line":{"width":22.6771653543307,"color":"rgba(231,107,243,0.2)","dash":"solid"},"hoveron":"points","name":"order","legendgroup":"order","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10.6057692307692,10.9777777777778],"y":[1,1],"text":["label: 01 [-0.00 TO 0.57)<br />----------------------------<br />mean: 10.606<br />N: 52<br />Adj. R2: 0.044","label: NA NA<br />----------------------------<br />mean: 10.978<br />N: 27<br />Adj. R2: 0.044"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":[22.6771653543307,16.5479796792222],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"(brainwt,1)","legendgroup":"(brainwt,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10.3789473684211,9.509375,10.925],"y":[2,2,2],"text":["label: CARNI<br />----------------------------<br />mean: 10.379<br />N: 19<br />Adj. R2: 0.047","label: HERBI<br />----------------------------<br />mean: 9.509<br />N: 32<br />Adj. R2: 0.047","label: OMNI<br />----------------------------<br />mean: 10.925<br />N: 20<br />Adj. R2: 0.047"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":[13.8256919635501,17.9869495097218,14.2049250589109],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"(vore,1)","legendgroup":"(vore,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12.8928571428571,12.35,9.97450980392157],"y":[3,3,3],"text":["label: 01 [0.11 TO 0.25)<br />----------------------------<br />mean: 12.893<br />N: 14<br />Adj. R2: 0.059","label: 02 [0.25 TO 0.39)<br />----------------------------<br />mean: 12.35<br />N: 6<br />Adj. R2: 0.059","label: NA NA<br />----------------------------<br />mean: 9.975<br />N: 51<br />Adj. R2: 0.059"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":[11.6603873029446,3.77952755905512,22.4706275923215],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"(sleep_cycle,1)","legendgroup":"(sleep_cycle,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7.58,11.437037037037,6.92857142857143],"y":[4,4,4],"text":["label: DOMESTICATED<br />----------------------------<br />mean: 7.58<br />N: 10<br />Adj. R2: 0.215","label: LC<br />----------------------------<br />mean: 11.437<br />N: 27<br />Adj. R2: 0.215","label: VU<br />----------------------------<br />mean: 6.929<br />N: 7<br />Adj. R2: 0.215"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":[9.35213692553942,16.5479796792222,6.56583224229727],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"(conservation,1)","legendgroup":"(conservation,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.51666666666667,10.1166666666667,11.2076923076923,10.5,12.4681818181818],"y":[5,5,5,5,5],"text":["label: ARTIODACTYLA<br />----------------------------<br />mean: 4.517<br />N: 6<br />Adj. R2: 0.502","label: CARNIVORA<br />----------------------------<br />mean: 10.117<br />N: 12<br />Adj. R2: 0.502","label: OTHER (9)<br />----------------------------<br />mean: 11.208<br />N: 13<br />Adj. R2: 0.502","label: PRIMATES<br />----------------------------<br />mean: 10.5<br />N: 12<br />Adj. R2: 0.502","label: RODENTIA<br />----------------------------<br />mean: 12.468<br />N: 22<br />Adj. R2: 0.502"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":[3.77952755905512,10.6045523009255,11.1513968277684,10.6045523009255,14.9247462920237],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"(order,1)","legendgroup":"(order,1)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.2237442922374,"r":7.30593607305936,"b":41.6438356164384,"l":95.7077625570777},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"sleep_total across all factors of all fields","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.09785714285714,13.3116666666667],"tickmode":"array","ticktext":[null,"6","8","10","12",null],"tickvals":[null,6,8,10,12,null],"categoryorder":"array","categoryarray":[null,"6","8","10","12",null],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"group mean of the dependent variable for each factor","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["brainwt","vore","sleep_cycle","conservation","order"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["brainwt","vore","sleep_cycle","conservation","order"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Field ranked by adjusted r-squared","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.96751968503937},"annotations":[{"text":"# of <br /> observations","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"21dc66bc6018":{"xintercept":{},"type":"scatter"},"21dc2c333914":{"x":{},"y":{},"colour":{},"fill":{},"label":{}},"21dcdce7d8c":{"size":{},"x":{},"y":{},"colour":{},"fill":{},"label":{}}},"cur_data":"21dc66bc6018","visdat":{"21dc66bc6018":["function (y) ","x"],"21dc2c333914":["function (y) ","x"],"21dcdce7d8c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="variation-plot---single-obs-" class="section level2">
<h2 class="hasAnchor">
<a href="#variation-plot---single-obs-" class="anchor"></a>Variation plot - single obs.</h2>
<p>Another way to look at this is to look a single observation. The ID of an observation is it’s original row number in the data set. To find an observation that might be on interest, you can find one with the next function, <code><a href="../reference/profile_n.html">profile_n()</a></code>. If you don’t specify the id, the function will pick one for you.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="../reference/variation_plot_single_obs.html">variation_plot_single_obs</a></span>(df, dep_var, <span class="dt">id =</span> <span class="dv">72</span>)</a></code></pre></div>
<p><img src="msleep_dataset_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
</div>
<div id="exemplars" class="section level2">
<h2 class="hasAnchor">
<a href="#exemplars" class="anchor"></a>Exemplars</h2>
<p>This function will find the top or bottom obsevation that <code>whereiation</code> thinks has the highest or lowest outcome. In this case, most sleep.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="../reference/profile_n.html">profile_n</a></span>(df, dep_var)</a></code></pre></div>
<table class="table table table-striped table-condensed">
<caption>
sleep_total: top 5 observations
</caption>
<thead><tr>
<th style="text-align:center;">
field
</th>
<th style="text-align:center;">
field_wt
</th>
<th style="text-align:center;">
ID 40<br>est: 12.1678
</th>
<th style="text-align:center;">
ID 42<br>est: 12.1678
</th>
<th style="text-align:center;">
ID 68<br>est: 12.1678
</th>
<th style="text-align:center;">
ID 57<br>est: 12.1178
</th>
<th style="text-align:center;">
ID 8<br>est: 12.1178
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
order
</td>
<td style="text-align:center;">
51%
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(61, 4, 156, 1) !important;">Rodentia<br>12.468</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(61, 4, 156, 1) !important;">Rodentia<br>12.468</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(61, 4, 156, 1) !important;">Rodentia<br>12.468</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(61, 4, 156, 1) !important;">Rodentia<br>12.468</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(61, 4, 156, 1) !important;">Rodentia<br>12.468</span>
</td>
</tr>
<tr>
<td style="text-align:center;">
sleep_cycle
</td>
<td style="text-align:center;">
6%
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(13, 8, 135, 1) !important;">01 [0.11 to 0.25)<br>12.893</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(13, 8, 135, 1) !important;">01 [0.11 to 0.25)<br>12.893</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(13, 8, 135, 1) !important;">01 [0.11 to 0.25)<br>12.893</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(226, 101, 97, 1) !important;">NA NA<br>9.975</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(226, 101, 97, 1) !important;">NA NA<br>9.975</span>
</td>
</tr>
<tr>
<td style="text-align:center;">
vore
</td>
<td style="text-align:center;">
6%
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(241, 132, 75, 1) !important;">herbi<br>9.509</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(241, 132, 75, 1) !important;">herbi<br>9.509</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(241, 132, 75, 1) !important;">herbi<br>9.509</span>
</td>
<td style="text-align:center;">
small sample size
</td>
<td style="text-align:center;">
small sample size
</td>
</tr>
<tr>
<td style="text-align:center;">
brainwt
</td>
<td style="text-align:center;">
3%
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(196, 63, 127, 1) !important;">01 [-0.00 to 0.57)<br>10.606</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(196, 63, 127, 1) !important;">01 [-0.00 to 0.57)<br>10.606</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(196, 63, 127, 1) !important;">01 [-0.00 to 0.57)<br>10.606</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(176, 41, 145, 1) !important;">NA NA<br>10.978</span>
</td>
<td style="text-align:center;">
<span style=" font-weight: bold;    color: rgba(176, 41, 145, 1) !important;">NA NA<br>10.978</span>
</td>
</tr>
</tbody>
</table>
</div>
<div id="find-drivers" class="section level2">
<h2 class="hasAnchor">
<a href="#find-drivers" class="anchor"></a>Find drivers</h2>
<p>This function will give an example of the highest and lowest group means for each variable. This table will look nicer in later versions.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="../reference/find_drivers.html">find_drivers</a></span>(df, dep_var)</a></code></pre></div>
<div id="htmlwidget-74ef3f20484a02889fef" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-74ef3f20484a02889fef">{"x":{"filter":"none","data":[["1","2","3","4","5"],[0.5,0.21,0.06,0.05,0.04],[0,0,0.13,0.09,0.13],[6,7,51,32,52],["Artiodactyla","vu","NA NA","herbi","01 [-0.00 to 0.57)"],[4.52,6.93,9.97,9.51,10.61],["order","conservation","sleep_cycle","vore","brainwt"],[12.47,11.44,12.89,10.93,10.98],["Rodentia","lc","01 [0.11 to 0.25)","omni","NA NA"],[22,27,14,20,27]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>adj_r_sq<\/th>\n      <th>p_value<\/th>\n      <th>n_low<\/th>\n      <th>value_low<\/th>\n      <th>avg_low<\/th>\n      <th>field<\/th>\n      <th>avg_high<\/th>\n      <th>value_high<\/th>\n      <th>n_high<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,5,7,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="overunder-representation" class="section level2">
<h2 class="hasAnchor">
<a href="#overunder-representation" class="anchor"></a>Over/Under Representation</h2>
<p>Another powerful overview can be to look for over and under representation. This chart is most meaningful for a binary variable (0/1 or T/F). When we do this, we see that Rodentia makes up 26% of the data so we would expect them to have 26% of the observations. Instead, they make up almost 40% of the animals sleeping more than 10 hours. Thus, this group is over-represented in our dependent variable in data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="../reference/expected_proportions.html">expected_proportions</a></span>(</a>
<a class="sourceLine" id="cb6-2" title="2">  df, </a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="dt">dep_var =</span> <span class="st">"sleep_total &gt; 10"</span>, </a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="dt">n_field =</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb6-5" title="5">)</a></code></pre></div>
<p><img src="msleep_dataset_files/figure-html/unnamed-chunk-7-1.png" width="864"></p>
<p>You can also look at the data to get the exact values.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="../reference/expected_proportions.html">expected_proportions</a></span>( </a>
<a class="sourceLine" id="cb7-2" title="2">  df, </a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="dt">dep_var =</span> <span class="st">"sleep_total &gt; 10"</span>, </a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="dt">return_data =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb7-5" title="5">) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(value <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Rodentia"</span>, <span class="st">"Primates"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(delta)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="st">  </span><span class="kw">mutate_if</span>(is.double, round, <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>field_delta) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
field
</th>
<th style="text-align:left;">
value
</th>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
total
</th>
<th style="text-align:right;">
expected
</th>
<th style="text-align:right;">
actual
</th>
<th style="text-align:right;">
delta
</th>
<th style="text-align:right;">
abs_delta
</th>
<th style="text-align:left;">
category
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
order
</td>
<td style="text-align:left;">
Rodentia
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
26.5
</td>
<td style="text-align:right;">
38.6
</td>
<td style="text-align:right;">
12.1
</td>
<td style="text-align:right;">
12.1
</td>
<td style="text-align:left;">
over
</td>
</tr>
<tr>
<td style="text-align:left;">
order
</td>
<td style="text-align:left;">
Primates
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
14.5
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
-3.1
</td>
<td style="text-align:right;">
3.1
</td>
<td style="text-align:left;">
under
</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#variation-plot">Variation plot</a></li>
      <li><a href="#variation-plot---single-obs-">Variation plot - single obs.</a></li>
      <li><a href="#exemplars">Exemplars</a></li>
      <li><a href="#find-drivers">Find drivers</a></li>
      <li><a href="#overunder-representation">Over/Under Representation</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jake Riley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
